(this["webpackJsonparcade-client"]=this["webpackJsonparcade-client"]||[]).push([[0],{123:function(e,t,n){},131:function(e,t,n){},132:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(104),s=n.n(c),i=(n(123),n(85)),o=n(111),l=n(6),u=n(113),j=n(154),d=n(156),b=n(153),m=n(107),h=n(158),O=n(11);function g(){return Object(O.jsx)("header",{children:Object(O.jsx)("h1",{children:"This is a header say hi"})})}var f,p,v=n(9),x=n(18),k=n(7),w=n(161),S=n(39),N=n(40),y=n(86),$=n.n(y),C=new(function(){function e(){Object(S.a)(this,e)}return Object(N.a)(e,[{key:"getProfile",value:function(){return $()(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return $()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),T=n(87),I=n(155),_=Object(I.a)(f||(f=Object(T.a)(["\n  mutation addUser(\n    $firstName: String!\n    $lastName: String!\n    $nickname: String!\n    $email: String!\n    $password: String!\n  ) {\n    addUser(\n      firstName: $firstName\n      lastName: $lastName\n      nickname: $nickname\n      email: $email\n      password: $password\n    ) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))),E=(Object(I.a)(p||(p=Object(T.a)(["\nmutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))),n(157)),U=n(160);function q(){var e=Object(a.useState)(""),t=Object(k.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),s=Object(k.a)(c,2),i=s[0],o=s[1],l=Object(a.useState)(""),u=Object(k.a)(l,2),j=u[0],d=u[1],b=Object(a.useState)(""),m=Object(k.a)(b,2),h=m[0],g=m[1],f=Object(a.useState)(""),p=Object(k.a)(f,2),S=p[0],N=p[1],y=Object(w.a)(_),$=Object(k.a)(y,1)[0],T=function(){var e=Object(x.a)(Object(v.a)().mark((function e(t){var a,r;return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h)||console.log("not valid email"),n&&i&&j&&h&&S){e.next=6;break}return console.log("all fields are required bud"),e.abrupt("return");case 6:return e.prev=6,e.next=9,$({variables:{firstName:n,lastName:i,nickname:j,email:h,password:S}});case 9:a=e.sent,r=a.data.addUser.token,C.login(r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"formContainer",children:Object(O.jsxs)("form",{onSubmit:T,children:[Object(O.jsx)(E.a,{value:n,onChange:function(e){return r(e.target.value)},type:"text",className:"firstName",placeholder:"enter your first name"}),Object(O.jsx)(E.a,{value:i,onChange:function(e){return o(e.target.value)},type:"lastName",className:"lastName",placeholder:"enter your last name"}),Object(O.jsx)(E.a,{value:j,onChange:function(e){return d(e.target.value)},className:"nickname",placeholder:"enter a nickname"}),Object(O.jsx)(E.a,{value:h,onChange:function(e){return g(e.target.value)},className:"email",placeholder:"enter your email here"}),Object(O.jsx)(E.a,{value:S,onChange:function(e){return N(e.target.value)},className:"password",placeholder:"enter your password here"}),Object(O.jsx)(U.a,{className:"submitbtn",type:"submit",colorScheme:"blue",children:"Create an Account"})]})})}function B(){return Object(O.jsx)("footer",{children:Object(O.jsx)("h3",{children:"This is the footer"})})}n(131);var D=Object(u.a)({uri:"/graphql"}),J=Object(m.a)((function(e,t){var n=t.headers,a=localStorage.getItem("id_token");return{headers:Object(i.a)(Object(i.a)({},n),{},{authorization:a?"Bearer ".concat(a):""})}})),z=new j.a({link:J.concat(D),cache:new d.a});var A=function(){return Object(O.jsx)(h.a,{children:Object(O.jsx)(b.a,{client:z,children:Object(O.jsxs)(o.a,{children:[Object(O.jsx)(g,{}),Object(O.jsx)(l.c,{children:Object(O.jsx)(l.a,{path:"/",element:Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(q,{})})})}),Object(O.jsx)(B,{})]})})})};s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(A,{})}),document.getElementById("root"))}},[[132,1,2]]]);
//# sourceMappingURL=main.acc132ac.chunk.js.map